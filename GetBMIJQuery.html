<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <title>BMI</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- 引用bootstrap CSS 4.3.1 版本-->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

</head>

<script>
    /* 觀念
       1. 用JQuery抓身高體重的值，用物件設計方法
       2. var BmiObj物件在全域變數，裡面的this指的是這個物件
       3. 物件可以設計方法，BmiOb物件裡面有一個方法屬性叫做GetBmi
    */


    //JavaScript中的物件可以設計方法
    var BmiObj = {
        height: 0,
        weight: 0,
        GetBmi: function () {
            H = this.height / 100;
            bmi = this.weight / (H * H) //這邊的this指的是BmiObj物件
            return bmi;
        }
    };

    //計算結果
    function Button1_Click() {
        BmiObj.height = $('#txbheight').val();  //這邊如果用this.height會抓不到資料
        BmiObj.weight = $('#txbweight').val();
        let bmi = BmiObj.GetBmi();
        Show("你的BMI是" + bmi);
    }

    //清除表單
    function Button2_Click() {
        //document.getElementById('result').innerHTML = "";
        $('#result').html("");
    }


    function Show(msg) {
        //document.getElementById('result').innerHTML += msg + "<br />";
        $('#result').html($('#result').html() + msg + "<br />");
    }


    //初始化
    $(document).ready(function () {
        $('#Button1').click(Button1_Click);
        $('#Button2').click(Button2_Click);
    });
</script>

<body>
    <h1> 使用物件的方式來計算BMI</h1>
    <form>
        <div class="input-group flex-nowrap" style="margin: 20px">
            <div class="input-group-prepend">
                <span class="input-group-text" id="addon-wrapping">身高(cm)</span>
            </div>
            <div>
                <input id="txbheight" type="text" class="form-control" placeholder="請輸入身高" aria-label="身高"
                    aria-describedby="addon-wrapping">
            </div>
        </div>


        <div class="input-group flex-nowrap" style="margin: 20px">
            <div class="input-group-prepend">
                <span class="input-group-text" id="addon-wrapping">體重(kg)</span>
            </div>
            <div>
                <input id="txbweight" type="text" class="form-control" placeholder="請輸入體重" aria-label="體重"
                    aria-describedby="addon-wrapping">
            </div>
        </div>



        <div class="row" style="margin: 20px">
            <label id="result"></label><br />
        </div>


        <div class="row" style="margin: 20px">
            <input id="Button1" type="button" class="btn btn-danger" value="計算結果" />
        </div>

        <div class="row" style="margin: 20px">
            <input id="Button2" type="reset" class="btn btn-danger" value="清除表單">
        </div>


    </form>

</body>

</html>